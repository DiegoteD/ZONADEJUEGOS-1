<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameStore - Tu Tienda de Videojuegos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>

    <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
        <i class="fas fa-gamepad"></i>
    </button>

    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#" aria-label="GameStore Inicio">
                <i class="fas fa-gamepad me-2"></i>GameStore
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="#juegos">
                            <i class="fas fa-gamepad me-1"></i>Juegos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contacto">
                            <i class="fas fa-envelope me-1"></i>Contacto
                        </a>
                    </li>
                    <li class="nav-item ms-3">
                        <button class="btn btn-outline-primary position-relative" id="cartToggle" aria-label="Abrir carrito">
                            <i class="fas fa-shopping-cart me-2"></i>Carrito
                            <span class="cart-counter" id="cartCounter" aria-live="polite">0</span>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <section class="hero-section">
        <div class="container">
            <h1 class="hero-title fade-in">🎮 GameStore</h1>
            <p class="lead mb-4 fade-in">Los mejores videojuegos al mejor precio</p>
            <div class="row justify-content-center fade-in">
                <div class="col-md-6">
                    <div class="position-relative">
                        <input type="text" class="form-control search-box" id="searchInput" 
                               placeholder="🔍 Buscar juegos..." aria-label="Buscar juegos">
                        <i class="fas fa-search search-icon" aria-hidden="true"></i>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="container my-5">
        <div class="text-center mb-4">
            <h2 class="text-white mb-4">
                <i class="fas fa-filter me-2"></i>Filtrar por Plataforma
            </h2>
            <div id="filterButtons" role="group" aria-label="Filtros de plataforma">
                <button class="btn filter-btn active" data-category="all" aria-pressed="true">
                    <i class="fas fa-th-large me-2"></i>Todos
                </button>
                <button class="btn filter-btn" data-category="pc" aria-pressed="false">
                    <i class="fas fa-desktop me-2"></i>PC
                </button>
                <button class="btn filter-btn" data-category="playstation" aria-pressed="false">
                    <i class="fab fa-playstation me-2"></i>PlayStation
                </button>
                <button class="btn filter-btn" data-category="xbox" aria-pressed="false">
                    <i class="fab fa-xbox me-2"></i>Xbox
                </button>
                <button class="btn filter-btn" data-category="nintendo" aria-pressed="false">
                    <i class="fas fa-gamepad me-2"></i>Nintendo
                </button>
                <button class="btn filter-btn" data-category="mobile" aria-pressed="false">
                    <i class="fas fa-mobile-alt me-2"></i>Móvil
                </button>
            </div>
        </div>
    </section>

    <section class="container mb-5" id="juegos">
        <div class="row" id="gamesContainer" role="main" aria-label="Catálogo de videojuegos">
        </div>
        <div class="text-center mt-4">
            <div class="loading-spinner d-none" id="loadingSpinner" aria-label="Cargando juegos"></div>
        </div>
    </section>

    <section class="container contact-section" id="contacto">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <h2 class="text-center text-white mb-4">
                    <i class="fas fa-headset me-2"></i>Contáctanos
                </h2>
                <p class="text-center text-muted mb-4">¿Tienes alguna pregunta? ¡Estamos aquí para ayudarte!</p>
                <form id="contactForm" novalidate>
                    <div class="mb-3">
                        <label for="contactName" class="visually-hidden">Nombre</label>
                        <input type="text" class="form-control search-box" id="contactName" 
                               placeholder="Tu nombre de gamer" required aria-describedby="nameError">
                        <div class="error-message" id="nameError" role="alert">El nombre es obligatorio</div>
                    </div>
                    <div class="mb-3">
                        <label for="contactEmail" class="visually-hidden">Correo electrónico</label>
                        <input type="email" class="form-control search-box" id="contactEmail" 
                               placeholder="Tu correo electrónico" required aria-describedby="emailError">
                        <div class="error-message" id="emailError" role="alert">Ingresa un correo válido</div>
                    </div>
                    <div class="mb-3">
                        <label for="contactMessage" class="visually-hidden">Mensaje</label>
                        <textarea class="form-control search-box" id="contactMessage" rows="4" 
                                  placeholder="¿En qué podemos ayudarte?" required 
                                  aria-describedby="messageError"></textarea>
                        <div class="error-message" id="messageError" role="alert">El mensaje es obligatorio</div>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-paper-plane me-2"></i>Enviar Mensaje
                        </button>
                    </div>
                </form>
                <div class="success-message" id="contactSuccess" role="alert" aria-live="polite">
                    <i class="fas fa-check-circle me-2"></i>
                    ¡Mensaje enviado exitosamente! Te contactaremos pronto, gamer.
                </div>
            </div>
        </div>
    </section>

    <aside class="cart-sidebar" id="cartSidebar" role="dialog" aria-labelledby="cartTitle" aria-modal="true">
        <div class="p-3">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h3 id="cartTitle"><i class="fas fa-shopping-cart me-2"></i>Mi Carrito</h3>
                <button class="btn btn-outline-light btn-sm" id="closeCart" aria-label="Cerrar carrito">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="cartItems">
                <div class="text-center py-4" id="emptyCartMessage">
                    <i class="fas fa-shopping-cart empty-cart-icon" aria-hidden="true"></i>
                    <p class="text-muted mt-3">Tu carrito está vacío</p>
                </div>
            </div>
            <div class="mt-3" id="cartSummary" style="display: none;">
                <hr class="cart-divider">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <strong class="cart-total">Total: $<span id="cartTotal">0</span></strong>
                </div>
                <button class="btn btn-success w-100 mb-2" id="confirmOrder">
                    <i class="fas fa-credit-card me-2"></i>Proceder al Pago
                </button>
                <button class="btn btn-outline-danger w-100" id="clearCart">
                    <i class="fas fa-trash me-2"></i>Vaciar Carrito
                </button>
            </div>
        </div>
    </aside>

    <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" id="confirmModalLabel">
                        <i class="fas fa-receipt me-2"></i>Confirmar Compra
                    </h4>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
                </div>
                <div class="modal-body" id="orderSummary">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        <i class="fas fa-arrow-left me-2"></i>Volver
                    </button>
                    <button type="button" class="btn btn-success" id="finalConfirm">
                        <i class="fas fa-check me-2"></i>Confirmar Compra
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-backdrop fade" id="cartOverlay" style="display: none;" aria-hidden="true"></div>

    <div class="toast-container position-fixed top-0 end-0 p-3">
        <div id="gameToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <i class="fas fa-gamepad me-2 text-primary"></i>
                <strong class="me-auto">GameStore</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Cerrar"></button>
            </div>
            <div class="toast-body" id="toastMessage">
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>